// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from './client';
import { client } from './client.gen';
import type { AuthorizeFulfillmentData, AuthorizeFulfillmentResponses, FulfillmentSimulationData, FulfillmentSimulationResponses, MkpOrderCancellationData, MkpOrderCancellationResponses, OrderPlacementData, OrderPlacementResponses } from './types.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

/**
 * Fulfillment simulation - external seller
 *
 * This endpoint may be called upon by VTEX for fulfillment simulation in the external seller different contexts. See examples below.
 *
 * When a [price](https://developers.vtex.com/docs/api-reference/marketplace-apis#post-/notificator/-sellerId-/changenotification/-skuId-/price) or [inventory](https://developers.vtex.com/docs/api-reference/marketplace-apis#post-/notificator/-sellerId-/changenotification/-skuId-/inventory) notification request returns a response with status `200 OK`, it means that the SKU already exists in the marketplace. Whenever this happens, the marketplace will call the seller to get two updated information about the SKU: Price and Inventory.
 *
 * The seller needs to have an endpoint implemented in order to receive this call and send a response containing the requested information to the marketplace. We call it the Fulfillment Simulation endpoint.
 *
 * If the seller wishes to include other parameters in this call (like account name, or [sales channel](https://help.vtex.com/en/tutorial/como-funciona-uma-politica-comercial--6Xef8PZiFm40kg2STrMkMV) ID), this should be done within their {fulfillmentEndpoint}. This path is then inserted in the marketplace's VTEX admin when [configuring a seller](https://help.vtex.com/en/tutorial/configurando-seller--tutorials_392).
 *
 * The marketplace will send an object containing an array of items. The seller must use this list to get the updated information about the referred SKUs and send them back to the marketplace, following the response format explained in the API Reference.
 *
 * This call is also applied in the Storefront simulation scenario, in which case the request from VTEX does not send the parameters `country` and `postalCode`.
 * The call's payload can be adapted into two scenarios:
 *
 * - **Displaying items in the storefront**: the address information can be nulled in the request since they are not mandatory data for this context.
 * - **Making a shopping cart simulation during checkout**: address information must be sent since this data is needed to calculate freight values. If the address information (including `postalCode` and `country`) is not sent through the call, VTEX interprets the stock balance as zero. Without a valid stock balance, the seller will not be shown as an option during checkout.
 *
 * ## Request body example - Indexing simulation
 *
 * ```
 * {
 * "items": [
 * {
 * "id": "7908010136043",
 * "quantity": 1,
 * "seller": "1",
 * }
 * ],
 * "isCheckedIn": false,
 * }
 * ```
 * ## Request body example - Checkout simulation
 *
 * ```
 * {
 * "items": [
 * {
 * "id": "7908010136043",
 * "quantity": 1,
 * "seller": "1",
 * }
 * ],
 * "postalCode": "22270-030",
 * "country": "BRA",
 * }
 * ```
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const fulfillmentSimulation = <ThrowOnError extends boolean = false>(options: Options<FulfillmentSimulationData, ThrowOnError>) => (options.client ?? client).post<FulfillmentSimulationResponses, unknown, ThrowOnError>({
    security: [{ name: 'X-VTEX-API-AppKey', type: 'apiKey' }, { name: 'X-VTEX-API-AppToken', type: 'apiKey' }],
    url: '/pvt/orderForms/simulation',
    ...options
});

/**
 * Order placement
 *
 * This request is sent by VTEX to the external seller once the customer finishes their checkout, to let the seller know there is a newly placed order. It does that by calling the **Order Placement** endpoint, which needs to be implemented by the seller.
 *
 * The marketplace will send information such as the items contained in the cart, the client’s profile data, the shipping data, and the payment data. With all that, the seller will be able to create the order in their store.
 *
 * ## Permissions
 *
 * Any user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:
 *
 * | **Product** | **Category** | **Resource** |
 * | --------------- | ----------------- | ----------------- |
 * | VTEX Fulfilment | Fulfilment Resources | **Place Orders** |
 *
 * You can [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) with that resource or use one of the following [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy):
 *
 * | **Role** | **Resource** |
 * | --------------- | ----------------- |
 * | Create orders | Place Orders |
 *
 * >❗ Assigning a [predefined role](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) to users or application keys usually grants permission to multiple [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3). If some of these permissions are not necessary, consider creating a custom role instead. For more information regarding security, see [Best practices for using application keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm).
 *
 * To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).
 */
export const orderPlacement = <ThrowOnError extends boolean = false>(options: Options<OrderPlacementData, ThrowOnError>) => (options.client ?? client).post<OrderPlacementResponses, unknown, ThrowOnError>({
    security: [{ name: 'X-VTEX-API-AppKey', type: 'apiKey' }, { name: 'X-VTEX-API-AppToken', type: 'apiKey' }],
    url: '/pvt/orders',
    ...options
});

/**
 * Authorize fulfillment
 *
 * This request is sent from VTEX to the seller after the payment is approved, to notify them that the fulfillment process can start.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const authorizeFulfillment = <ThrowOnError extends boolean = false>(options: Options<AuthorizeFulfillmentData, ThrowOnError>) => (options.client ?? client).post<AuthorizeFulfillmentResponses, unknown, ThrowOnError>({
    security: [{ name: 'X-VTEX-API-AppKey', type: 'apiKey' }, { name: 'X-VTEX-API-AppToken', type: 'apiKey' }],
    url: '/pvt/orders/{sellerOrderId}/fulfill',
    ...options
});

/**
 * Marketplace order cancellation
 *
 * This request may be sent from VTEX to the external seller in case of order cancelation. For that, the seller will need to implement the Marketplace order cancellation endpoint. Whenever this request is received by the seller, the order should be canceled and the fulfillment flow should not proceed.
 *
 * For the seller to:
 *
 * - **Evaluate a cancellation request:** it is possible to send an empty body as a response to the cancellation request, meaning that the seller is evaluating whether to proceed with the cancellation or not.
 *
 * - **Confirm the cancellation request:** it is possible to confirm the order cancellation by the marketplace by responding to the call with a body including only one information: the `marketplaceOrderId`, which identifies the order in the marketplace. The seller should use this ID to trigger the cancellation of the corresponding order. The seller should then respond with the same `marketplaceOrderId` and also with the `orderId`, which identifies the order in the seller, the date and time of the notification receipt, and a protocol code that confirms the receipt of the request (which may have the value `null`).
 *
 * - **Refuse a cancellation request:** it is possible to to [send the Invoice](https://developers.vtex.com/vtex-rest-api/reference/external-seller#send-invoice), meaning that the cancellation has been denied, and the flow continues to the [Order Invoicing](https://developers.vtex.com/vtex-rest-api/docs/external-seller-integration-connector#order-invoicing) step, and the ones that follow it.
 *
 * >⚠️ This call should be made twice: once for the *Evaluate cancellation request* scenario, and a second time to *Confirm cancellation* or *Refuse cancellation*.
 *
 * ## Permissions
 *
 * Any user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:
 *
 * | **Product** | **Category** | **Resource** |
 * | --------------- | ----------------- | ----------------- |
 * | Checkout | CheckoutResources | **Order Cancellation** |
 *
 * You can [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) with that resource or use one of the following [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy):
 *
 * | **Role** | **Resource** |
 * | --------------- | ----------------- |
 * | Cancela Pedidos | Order Cancellation |
 *
 * >❗ Assigning a [predefined role](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) to users or application keys usually grants permission to multiple [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3). If some of these permissions are not necessary, consider creating a custom role instead. For more information regarding security, see [Best practices for using application keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm).
 *
 * To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).
 */
export const mkpOrderCancellation = <ThrowOnError extends boolean = false>(options: Options<MkpOrderCancellationData, ThrowOnError>) => (options.client ?? client).post<MkpOrderCancellationResponses, unknown, ThrowOnError>({
    security: [{ name: 'X-VTEX-API-AppKey', type: 'apiKey' }, { name: 'X-VTEX-API-AppToken', type: 'apiKey' }],
    url: '/pvt/orders/{orderId}/cancel',
    ...options
});
