// This file is auto-generated by @hey-api/openapi-ts

import * as z from 'zod';

export const zUserIdentification = z.object({
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    })
});

/**
 * SessionPing
 *
 * Sends an ACK to the API to renew the session server-side. It should be sent every 1 minute.
 */
export const zSessionPing = z.object({
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    }),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    }),
    agent: z.string().register(z.globalRegistry, {
        description: 'Identifies whether the request came from a mobile or desktop application. It\'s used as a filter in the search report.'
    }).default('desktop')
}).register(z.globalRegistry, {
    description: 'Sends an ACK to the API to renew the session server-side. It should be sent every 1 minute.'
});

/**
 * Search Click
 *
 * Sends an event every time a shopper clicks on a product from a search page.
 */
export const zClick = z.object({
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    }),
    productId: z.string().register(z.globalRegistry, {
        description: 'Unique identifier of the clicked product.'
    }),
    position: z.int().register(z.globalRegistry, {
        description: 'Position of the clicked product on the search results page.'
    }),
    url: z.optional(z.string().register(z.globalRegistry, {
        description: 'URL that identifies from which page the event occurred.'
    })),
    text: z.string().register(z.globalRegistry, {
        description: 'Query used in the search.'
    }),
    agent: z.optional(z.string().register(z.globalRegistry, {
        description: 'Identifies whether the request came from a mobile or desktop application. It\'s used as a filter in the search report.'
    })).default('desktop'),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    })
}).register(z.globalRegistry, {
    description: 'Sends an event every time a shopper clicks on a product from a search page.'
});

/**
 * Search Query
 *
 * Sends a query event every time the shopper makes a full-text search.
 */
export const zQuery = z.object({
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    }),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    url: z.optional(z.string().register(z.globalRegistry, {
        description: 'URL that identifies from which page the event occurred.'
    })),
    agent: z.optional(z.string().register(z.globalRegistry, {
        description: 'Identifies whether the request came from a mobile or desktop application. It\'s used as a filter in the search report.'
    })).default('desktop'),
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    }),
    text: z.string().register(z.globalRegistry, {
        description: 'Query used in the search.'
    }),
    misspelled: z.boolean().register(z.globalRegistry, {
        description: 'Indicates whether the query has a typo (`true`) or not (`false`).'
    }),
    match: z.number().register(z.globalRegistry, {
        description: 'Amount of products retrieved by the search.'
    }),
    operator: z.string().register(z.globalRegistry, {
        description: 'Identifies the type of operator used on the search. The possible values are: `and`, `or`. Find more details in [this Elastic Search guide](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html).'
    })
}).register(z.globalRegistry, {
    description: 'Sends a query event every time the shopper makes a full-text search.'
});

/**
 * Autocomplete Click
 *
 * Sends an event every time a shopper clicks on a product from an autocomplete search.
 */
export const zAutocompleteClick = z.object({
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    }),
    productId: z.string().register(z.globalRegistry, {
        description: 'Unique identifier of the clicked product.'
    }),
    position: z.int().register(z.globalRegistry, {
        description: 'Position of the clicked product on the search results page.'
    }),
    url: z.optional(z.string().register(z.globalRegistry, {
        description: 'URL that identifies from which page the event occurred.'
    })),
    text: z.string().register(z.globalRegistry, {
        description: 'Query used in the search.'
    }),
    agent: z.optional(z.string().register(z.globalRegistry, {
        description: 'Identifies whether the request came from a mobile or desktop application. It\'s used as a filter in the search report.'
    })).default('desktop'),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    })
}).register(z.globalRegistry, {
    description: 'Sends an event every time a shopper clicks on a product from an autocomplete search.'
});

/**
 * Autocomplete Query
 *
 * Sends a query event every time the shopper makes an autocomplete search.
 */
export const zAutocompleteQuery = z.object({
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    }),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    url: z.optional(z.string().register(z.globalRegistry, {
        description: 'URL that identifies from which page the event occurred.'
    })),
    agent: z.optional(z.string().register(z.globalRegistry, {
        description: 'Identifies whether the request came from a mobile or desktop application. It\'s used as a filter in the search report.'
    })).default('desktop'),
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    }),
    text: z.string().register(z.globalRegistry, {
        description: 'Query used in the search.'
    }),
    misspelled: z.boolean().register(z.globalRegistry, {
        description: 'Indicates whether the query has a typo (`true`) or not (`false`).'
    }),
    match: z.number().register(z.globalRegistry, {
        description: 'Amount of products retrieved by the search.'
    }),
    operator: z.enum(['and', 'or']).register(z.globalRegistry, {
        description: 'Identifies the type of operator used on the search. The possible values are: `and`, `or`. Find more details in [this Elastic Search guide](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html).'
    })
}).register(z.globalRegistry, {
    description: 'Sends a query event every time the shopper makes an autocomplete search.'
});

/**
 * Product information.
 */
export const zCartProduct = z.object({
    productId: z.string().register(z.globalRegistry, {
        description: 'Unique identifier of the product.'
    }),
    quantity: z.number().register(z.globalRegistry, {
        description: 'Quantity of the product.'
    })
}).register(z.globalRegistry, {
    description: 'Product information.'
});

/**
 * PageCart
 *
 * Sends an event every time the shopper enters the cart page. Each interaction should include all products inside the shopping cart at that time. In case a product is removed, sent the updated card.
 */
export const zPageCart = z.object({
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    }),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    products: z.array(zCartProduct).register(z.globalRegistry, {
        description: 'Array of objects containing products. If the event type is `page.cart`, the array contains all the products in the cart, with their ID and quantity.  Each interaction should include all products inside the shopping cart at that time. In case a product is removed, sent the updated card. If there are no products in the cart (page.`empty_cart`), the array is empty. If the event type is `page.confirmation`, the array contains all the products that were purchased, with their ID, price and quantity.'
    }),
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    })
}).register(z.globalRegistry, {
    description: 'Sends an event every time the shopper enters the cart page. Each interaction should include all products inside the shopping cart at that time. In case a product is removed, sent the updated card.'
});

/**
 * Empty Cart
 *
 * Sends an event if there are no products in the shopping cart at that time.
 */
export const zPageEmptyCart = z.object({
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    }),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    products: z.array(zCartProduct).register(z.globalRegistry, {
        description: 'Array of objects containing products. If the event type is `page.cart`, the array contains all the products in the cart, with their ID and quantity.  Each interaction should include all products inside the shopping cart at that time. In case a product is removed, sent the updated card. If there are no products in the cart (page.`empty_cart`), the array is empty. If the event type is `page.confirmation`, the array contains all the products that were purchased, with their ID, price and quantity.'
    }),
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    })
}).register(z.globalRegistry, {
    description: 'Sends an event if there are no products in the shopping cart at that time.'
});

/**
 * Product information.
 */
export const zOrderProduct = z.object({
    productId: z.string().register(z.globalRegistry, {
        description: 'Unique identifier of the product.'
    }),
    price: z.number().register(z.globalRegistry, {
        description: 'Price of the product.'
    }),
    quantity: z.number().register(z.globalRegistry, {
        description: 'Quantity of the product.'
    })
}).register(z.globalRegistry, {
    description: 'Product information.'
});

/**
 * Page Confirmation
 *
 * Sends a confirmation informing the products that were bought.
 */
export const zPageConfirmation = z.object({
    session: z.string().register(z.globalRegistry, {
        description: 'Identifier related to the current navigation, in UUID v4 format without dashes. It is a cookie that lasts for 30 minutes, changing if the user opens another tab in private navigation mode.'
    }),
    anonymous: z.string().register(z.globalRegistry, {
        description: 'Identifier related to related to the user, in UUID v4 format without dashes. This information is kept in storage for one year.'
    }),
    products: z.array(zOrderProduct).register(z.globalRegistry, {
        description: 'Array of objects containing products. If the event type is `page.cart`, the array contains all the products in the cart, with their ID and quantity.  Each interaction should include all products inside the shopping cart at that time. In case a product is removed, sent the updated card. If there are no products in the cart (page.`empty_cart`), the array is empty. If the event type is `page.confirmation`, the array contains all the products that were purchased, with their ID, price and quantity.'
    }),
    order: z.string().register(z.globalRegistry, {
        description: 'Order ID.'
    }),
    type: z.string().register(z.globalRegistry, {
        description: 'Type of event, which can be one of the following: `page.cart`, `page.empty_cart`, `search.query`, `page.confirmation`, `session.ping`, `search.click`, `search.autocomplete.query`, or `search.autocomplete.click`.'
    })
}).register(z.globalRegistry, {
    description: 'Sends a confirmation informing the products that were bought.'
});

export const zPostEventData = z.object({
    body: z.optional(z.union([
        zSessionPing,
        zPageConfirmation,
        zClick,
        zQuery,
        zAutocompleteQuery,
        zAutocompleteClick
    ])),
    path: z.object({
        accountName: z.string().register(z.globalRegistry, {
            description: 'Name of the VTEX account. Used as part of the URL.'
        })
    }),
    query: z.optional(z.never())
});
