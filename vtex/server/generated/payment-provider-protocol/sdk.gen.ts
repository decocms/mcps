// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from './client';
import { client } from './client.gen';
import type { CancelPaymentData, CancelPaymentErrors, CancelPaymentResponses, CreateAuthorizationTokenData, CreateAuthorizationTokenResponses, CreatePaymentData, CreatePaymentErrors, CreatePaymentResponses, GetCredentialsData, GetCredentialsResponses, InboundRequestBetaData, InboundRequestBetaResponses, ManifestData, ManifestResponses, ProviderAuthenticationData, ProviderAuthenticationResponses, RefundPaymentData, RefundPaymentErrors, RefundPaymentResponses, SettlePaymentData, SettlePaymentErrors, SettlePaymentResponses } from './types.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

/**
 * List Payment Provider Manifest
 *
 * Exposes the provider manifest, including metadata settings such as payment methods, split configuration, and custom fields.
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Available payment methods
 *
 * <table>
 * <tr>
 * <th>Payment Method</th>
 * <th>Type</th>
 * <th>Country</th>
 * </tr>
 * <tr>
 * <td><code>Visa</code></td>
 * <td>Credit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Mastercard</code></td>
 * <td>Credit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>American Express</code></td>
 * <td>Credit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Discover</code></td>
 * <td>Credit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>JCB</code></td>
 * <td>Credit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Diners</code></td>
 * <td>Credit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Elo</code></td>
 * <td>Credit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Hipercard</code></td>
 * <td>Credit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Aura</code></td>
 * <td>Credit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Banricompras</code></td>
 * <td>Credit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Credz</code></td>
 * <td>Credit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Cabal</code></td>
 * <td>Credit Card</td>
 * <td>Argentina, Brazil, Uruguay, Paraguay</td>
 * </tr>
 * <td><code>Cartes Bancaires (CB)</code></td>
 * <td>Credit Card</td>
 * <td>France</td>
 * </tr>
 * <tr>
 * <td><code>VirtualDebitElo</code></td>
 * <td>Debit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Visa Electron</code></td>
 * <td>Debit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Maestro</code></td>
 * <td>Debit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Mastercard Debit</code></td>
 * <td>Debit Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Débito Online</code></td>
 * <td>Debit Card</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Cobranded</code></td>
 * <td>Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Privatelabels</code></td>
 * <td>Card</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Promissories</code></td>
 * <td>Generic</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Cash</code></td>
 * <td>Generic</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Pix</code></td>
 * <td>Online Transfer</td>
 * <td>Brazil</td>
 * </tr>
 * <tr>
 * <td><code>Safetypay</code></td>
 * <td>Online Transfer</td>
 * <td>Americas and Europe</td>
 * </tr>
 * <tr>
 * <td><code>BankInvoice</code></td>
 * <td>Offline/Voucher</td>
 * <td>Brazil (Boleto Bancário)</td>
 * </tr>
 * <tr>
 * <td><code>FichaDeposito</code></td>
 * <td>Offline/Voucher</td>
 * <td>Mexico</td>
 * </tr>
 * <tr>
 * <td><code>Rapipago</code></td>
 * <td>Offline/Voucher</td>
 * <td>Argentina</td>
 * </tr>
 * <tr>
 * <td><code>OXXO</code></td>
 * <td>Offline/Voucher</td>
 * <td>Mexico</td>
 * </tr>
 * <tr>
 * <td><code>Voucher</code></td>
 * <td>Offline/Voucher</td>
 * <td>Mexico</td>
 * </tr>
 * <tr>
 * <td><code>Bitcoin</code></td>
 * <td>Cryptocurrency</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Venda Direta Credito</code></td>
 * <td>Credit Card (Physical)</td>
 * <td>Global</td>
 * </tr>
 * <tr>
 * <td><code>Venda Direta Debito</code></td>
 * <td>Debit Card (Physical)</td>
 * <td>Global</td>
 * </tr>
 * </table>
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const manifest = <ThrowOnError extends boolean = false>(options: Options<ManifestData, ThrowOnError>) => (options.client ?? client).get<ManifestResponses, unknown, ThrowOnError>({ url: '/manifest', ...options });

/**
 * Create payment
 *
 * Creates a new payment and initiates the payment flow.
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * Payment providers must:
 *
 * - Execute authorization on payments made through credit/debit card or any synchronized payments;
 *
 * - Return the required information to the customer on payments made through bank-issued invoice, redirect, or any async payments.
 *
 * >ℹ️ This endpoint has to meet the principle of [idempotence](https://en.wikipedia.org/wiki/Idempotence). When calling this endpoint for the first time of a payment, without a `paymentId`, it should create a new payment. When calling this endpoint for an existing `paymentId`, it should not create another payment, but return the updated status of the existing payment instead.
 *
 * ## Callbacks (asynchronous flow)
 *
 * Callbacks are used for asynchronous payments, which do not receive the final status immediately. At first, an `undefined` status is returned, and the final status will be received from a callback request in the future as `authorized` or `denied`. There are two types of callbacks:
 *
 * - **Notification:** If a payment returns with `undefined` status, you are expected to send us a callback/notification to update it later, sending a POST with an updated version of your response (same structure as above) to the `callbackUrl` we have provided.
 *
 * - **Retry:** If a payment returns with `undefined` status, you are expected to call the retry endpoint provided by the `callbackUrl` when the processing of the payment is completed, so we make another Create Payment request to update the status with the new value (`authorized` or `denied`).
 *
 * Callback requests should be authenticated using a Key and Token which you can [generate from your VTEX partner account License Manager](https://help.vtex.com/en/tutorial/api-keys--2iffYzlvvz4BDMr6WGUtet#generating-app-keys-in-your-account). To do so, `POST` your request passing the `X-VTEX-API-AppKey` and `X-VTEX-API-AppToken` headers with your credentials. **Note:** do not mix up these credentials with the ones we send on behalf of the merchant when sending our requests.
 *
 * >⚠ For integrations not using VTEX IO, use the **Notification** callback. For integrations developed using VTEX IO infrastructure, use the **Retry** callback.
 *
 * ### Callback URL
 *
 * The `callbackUrl` field contains an URL that the payment provider uses to make a callback and inform our gateway of the final payment status: `approved` or `denied`.
 *
 * This URL has some query parameters, including the `X-VTEX-signature`. This parameter is mandatory and contains a signature token to identify that the request has been generated from VTEX as a security measure. The signature token has at most 32 characters. You can check an example of callback URL with the signature token below:
 *
 * ```
 * https://gatewayqa.vtexpayments.com.br/api/pvt/payment-provider/transactions/8FB0F111111122222333344449984ACB/payments/A2A9A25B11111111222222333327883C/callback?accountName=teampaymentsintegrations&X-VTEX-signature=R******tk
 * ```
 *
 * In the [Transactions page of the Admin](https://help.vtex.com/en/tutorial/how-to-view-the-orders-details--tutorials_452), the signature token appears masked for security reasons, as in this example: `X-VTEX-signature=Rj******tk`.
 *
 * When making the callback request, we recommend that payment providers use the callback URL exactly as received, which guarantees that all the parameters are included.
 *
 * See below an example of a payload forwarded along with the callback URL:
 *
 * ```json
 * {
 * "paymentId": "8B3BA2F4352545A8B1C5A215F356A01C",
 * "status": "approved",
 * "authorizationId": "184520",
 * "nsu": "21705348",
 * "tid": "21705348",
 * "acquirer": "pagmm",
 * "code": "0000",
 * "message": "Successfully approved transaction",
 * "delayToAutoSettle": 1200,
 * "delayToAutoSettleAfterAntifraud": 1200,
 * "delayToCancel": 86400,
 * "cardBrand": "Mastercard",
 * "firstDigits": "534696",
 * "lastDigits": "6921",
 * "maxValue": 16.6
 * }
 * ```
 *
 * >ℹ️ The parameter values sent in the callback payload replace the original values informed in the **Create Payment** request.
 *
 * >⚠️ If the waiting parameters (`delayToAutoSettle` and `delayToAutoSettleAfterAntifraud`) are not sent with the callback URL, the values for these parameters will be automatically set to 24 hours.
 *
 * ## Beta features
 *
 * The beta features available for payment providers are:
 *
 * - `inboundRequestsUrl`: Allows to forward external requests back to your payment provider implementation, including the configured credentials (`X-VTEX-API-*` headers), and settings.
 *
 * >ℹ You can reach out to our team by [opening a ticket](https://help.vtex.com/en/tutorial/opening-tickets-to-vtex-support--16yOEqpO32UQYygSmMSSAM) to know more about any beta features.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const createPayment = <ThrowOnError extends boolean = false>(options: Options<CreatePaymentData, ThrowOnError>) => (options.client ?? client).post<CreatePaymentResponses, CreatePaymentErrors, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/payments',
    ...options
});

/**
 * Cancel payment
 *
 * Cancels a payment that was not yet approved or settled.
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const cancelPayment = <ThrowOnError extends boolean = false>(options: Options<CancelPaymentData, ThrowOnError>) => (options.client ?? client).post<CancelPaymentResponses, CancelPaymentErrors, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/payments/{paymentId}/cancellations',
    ...options
});

/**
 * Settle payment
 *
 * Settles a payment that was previously approved.
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const settlePayment = <ThrowOnError extends boolean = false>(options: Options<SettlePaymentData, ThrowOnError>) => (options.client ?? client).post<SettlePaymentResponses, SettlePaymentErrors, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/payments/{paymentId}/settlements',
    ...options
});

/**
 * Refund payment
 *
 * Refunds a payment (in full or in part) that was previously settled.
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * >⚠️ The request should return a success response (`200`) only after the settlement has been fully completed. If there is any delay or the settlement has not yet been finalized, the response must indicate an error message (`500`). This allows VTEX payment module to continue retrying the request for up to 24 hours, until the settlement is definitively confirmed. A `200` status code response explicitly means that the settlement has been successfully completed
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const refundPayment = <ThrowOnError extends boolean = false>(options: Options<RefundPaymentData, ThrowOnError>) => (options.client ?? client).post<RefundPaymentResponses, RefundPaymentErrors, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/payments/{paymentId}/refunds',
    ...options
});

/**
 * Inbound request (BETA)
 *
 * The Inbound request (BETA) implements an URL that facilitates a direct connection between VTEX Gateway service and the Payment Provider. This functionality allows the payment provider to create other types of specific routes, in addition to those described in the other PPP endpoints, according to their type of operation (e.g. hook or enrollment routes, among others).
 *
 * This endpoint forwards a request back to your endpoint using the `inboundRequestsUrl` provided in the [Create Payment](https://developers.vtex.com/docs/api-reference/payment-provider-protocol#post-/payments?endpoint=post-/payments) endpoint payload.
 *
 * The `{action}` part of the path will be the same you have used to call the `inboundRequestsUrl` (e.g. hook, enrollment, among others).
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const inboundRequestBeta = <ThrowOnError extends boolean = false>(options: Options<InboundRequestBetaData, ThrowOnError>) => (options.client ?? client).post<InboundRequestBetaResponses, unknown, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/payments/{paymentId}/inbound/{action}',
    ...options
});

/**
 * Create authorization token
 *
 * Creates the authorization token that will be used for VTEX to redirect the merchant to the provider's authentication application. For more information about the Payment Provider Protocol (PPP) merchant authentication procedure, visit [Configuration Flow](https://developers.vtex.com/docs/guides/payments-integration-implementing-a-payment-provider#configuration-flow).
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const createAuthorizationToken = <ThrowOnError extends boolean = false>(options: Options<CreateAuthorizationTokenData, ThrowOnError>) => (options.client ?? client).post<CreateAuthorizationTokenResponses, unknown, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/authorization/token',
    ...options
});

/**
 * Provider authentication
 *
 * Use the application of provider for merchant's authentication.
 *
 * VTEX will redirect the merchant to your application using the `token` we retrieved earlier.
 *
 * You're expected to have a signup/signin process on your side in order to authenticate the merchant, either as a new or as an existent user.
 *
 * At this point, you can present your terms an conditions, a contract, and ask for merchant's final agreement to use your services.
 *
 * Finally, you need to generate an `authorizationCode` that you must concatenate to the `returnUrl` we send earlier.
 *
 * Example:
 *
 * `returnUrl` = `https://admin.mystore.example.com/provider-return?authorizationCode=`
 *
 * `authorizationCode` = `7940597D-A63B`
 *
 * Redirect the merchant to:
 *
 * `https://admin.mystore.example.com/provider-return?authorizationCode=7940597D-A63B`
 *
 * For more information about the Payment Provider Protocol (PPP) merchant authentication procedure, visit [Configuration Flow](https://developers.vtex.com/docs/guides/payments-integration-implementing-a-payment-provider#configuration-flow).
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const providerAuthentication = <ThrowOnError extends boolean = false>(options: Options<ProviderAuthenticationData, ThrowOnError>) => (options.client ?? client).get<ProviderAuthenticationResponses, unknown, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/authorization/redirect',
    ...options
});

/**
 * Get credentials
 *
 * Retrieves the merchant credentials (applicationId, appKey and appToken) registered with the payment provider. These credentials will be saved in the VTEX system and activated when the retailer decides to enable the connector.
 *
 * For more information about the Payment Provider Protocol (PPP) merchant authentication procedure, visit [Configuration Flow](https://developers.vtex.com/docs/guides/payments-integration-implementing-a-payment-provider#configuration-flow).
 *
 * > ℹ️ This request is made from VTEX to the payment provider.
 *
 * ## Permissions
 *
 * Check with your service provider to know what permissions are needed.
 */
export const getCredentials = <ThrowOnError extends boolean = false>(options: Options<GetCredentialsData, ThrowOnError>) => (options.client ?? client).get<GetCredentialsResponses, unknown, ThrowOnError>({
    security: [
        { name: 'X-VTEX-API-AppKey', type: 'apiKey' },
        { name: 'X-VTEX-API-AppToken', type: 'apiKey' },
        { name: 'VtexIdclientAutCookie', type: 'apiKey' }
    ],
    url: '/authorization/credentials',
    ...options
});
