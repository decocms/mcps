# =============================================================================
# PILOT MCP CONFIGURATION (v3.0 - PostgreSQL-backed)
# =============================================================================
# Copy this file to .env and customize for your environment.

# =============================================================================
# MESH CONNECTION
# =============================================================================

# URL of the MCP Mesh server
MESH_URL=http://localhost:3000

# Authentication token for mesh API calls
# MESH_TOKEN=your-token-here

# =============================================================================
# AI MODELS
# =============================================================================

# Model for quick routing/planning (cheap, fast)
FAST_MODEL=google/gemini-2.5-flash

# Model for complex tasks (capable, may be slower)
# Defaults to FAST_MODEL if not set
SMART_MODEL=anthropic/claude-sonnet-4.5

# =============================================================================
# WORKFLOW STUDIO (PostgreSQL-backed storage)
# =============================================================================
#
# Pilot uses MCP Studio for workflow and execution storage.
# All workflows and thread history are stored in PostgreSQL.
#
# Setup:
# 1. Deploy mcp-studio with PostgreSQL
# 2. In Mesh UI, add mcp-studio as a connection
# 3. Pilot's WORKFLOW_STUDIO binding will be configured via MCP_CONFIGURATION
#
# Import/Export tools (for publishing workflows):
# - WORKFLOW_IMPORT: Import JSON files → PostgreSQL
# - WORKFLOW_EXPORT: Export PostgreSQL → JSON files

# =============================================================================
# THREAD CONFIGURATION
# =============================================================================

# Default workflow for conversations (special "thread" type)
THREAD_WORKFLOW=thread

# Thread timeout - messages within this window continue the same thread
# Default: 300000 (5 minutes)
THREAD_TTL_MS=300000

# =============================================================================
# EVENT → WORKFLOW MAPPING
# =============================================================================
# Map event types to specific workflows.
# Format: EVENT_WORKFLOW_MAP=event.type:workflow-id,another.event:other-workflow
# 
# Example:
# EVENT_WORKFLOW_MAP=whatsapp.message:thread,slack.message:thread
#
# If an event type is not mapped, it uses THREAD_WORKFLOW
EVENT_WORKFLOW_MAP=whatsapp.message:thread

# =============================================================================
# DEBUG
# =============================================================================

# Enable verbose logging
DEBUG=false
